@page "/attendanceAdmin"
@layout AdminLayout
@inherits AttendanceBase

<div class="mx-5 mt-3">
<MudPaper Elevation="4" Height="auto" Width="100%" Square="true" Class="mud-theme-lighter pa-4">
    <MudPaper Class="d-flex flex-wrap  align-center flex-grow-1 gap-4 px-5" Elevation="0">
        <MudText Typo="Typo.h6"><strong> Attendance History</strong></MudText>

        <MudItem xs="12" sm="6" md="1" lg="3">
            <MudTextField T="string"
                          Label="Search"
                          Variant="Variant.Outlined"
                          Adornment="Adornment.End"
                          AdornmentIcon="@Icons.Material.Filled.Search"
                          Class="w-100" />
        </MudItem>
        <MudItem xs="12" sm="6" md="2" lg="3">
            <MudDatePicker Label="Filter by Date"
                           @bind-Date="selectedDate"
                           DateFormat="MM/dd/yyyy"
                           Variant="Variant.Outlined"
                           Class="w-100"
                           PickerVariant="PickerVariant.Inline" />

        </MudItem>
        <MudItem xs="12" sm="6" md="2" lg="3">
            <MudTimePicker Label="Filter by Time"
                           @bind-Time="selectedTime"
                           Variant="Variant.Outlined"
                           PickerVariant="PickerVariant.Inline"
                           TimeEditMode="TimeEditMode.Normal"
                           AmPm="true"
                           Class="w-100" />
        </MudItem>
    </MudPaper>
        <MudDataGrid T="AttendanceLogDTO"
                     Items="@filteredAttendances"
                     Class="mt-4">

            <Columns>
                <PropertyColumn Property="a => a.UserID" Title="User ID" />
                <PropertyColumn Property="a => a.FullName" Title="Full Name" />
                <PropertyColumn Property="a => a.ScanTime" Title="DateTime Scan" />
            </Columns>

            <PagerContent>
                <MudDataGridPager T="AttendanceLogDTO" />
            </PagerContent>
        </MudDataGrid>
    </MudPaper>
</div>
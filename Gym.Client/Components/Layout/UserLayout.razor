@inherits UserLayoutBase

<MudThemeProvider Theme="@(_isDark? _darkTheme : _lightTheme)" IsDarkMode="_isDark" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

@if (!_initialized)
{
    <div class="loader-container">
        <div class="spinner"></div>
    </div>
}
else
{
    @if (isUser)
    {
        <MudLayout>

          
            <MudAppBar Elevation="4" Style="background-color: #7C1219">
                <MudText Typo="Typo.h6" Class="ml-3 font-bold">
                    Power Gym
                </MudText>

                <MudIconButton Icon="@(_isDark ? Icons.Material.Filled.LightMode : Icons.Material.Filled.DarkMode)"
                               OnClick="@ToggleTheme" />

                <MudSpacer />

                <MudButton Variant="Variant.Outlined"
                           Color="Color.Warning"
                           Size="Size.Small"
                           OnClick="@Logout">
                    Logout
                </MudButton>
            </MudAppBar>

           
            <MudMainContent>
                @Body
            </MudMainContent>

        </MudLayout>
    }
    else
    {
        <MudText>YOU ARE NOT AUTHORIZED</MudText>
    }
}
